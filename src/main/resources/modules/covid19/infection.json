{
  "name": "infection",
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "Determine Risk"
    },
    "Determine Risk": {
      "submodule": "covid19/determine_risk",
      "type": "CallSubmodule",
      "direct_transition": "Encounter for Test",
      "remarks": [
        "Assess patient comorbidities and set attribute (covid19_risk):",
        "  - (high) if patient has comorbidity impacting risks",
        "  - (low) if patient has no comorbidity impacting risks"
      ]
    },
    "Encounter for Test": {
      "encounter_class": "ambulatory",
      "wellness": false,
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "185345009",
          "display": "Encounter for symptom (procedure)"
        }
      ],
      "type": "Encounter",
      "direct_transition": "Catalog Symptoms"
    },
    "Catalog Symptoms": {
      "submodule": "covid19/symptoms",
      "type": "CallSubmodule",
      "direct_transition": "Take Temperature"
    },
    "Take Temperature": {
      "category": "vital-signs",
      "range": {
        "low": 37.7,
        "high": 42.2,
        "unit": "null"
      },
      "codes": [
        {
          "system": "LOINC",
          "code": "8310-5",
          "display": "Body temperature"
        },
        {
          "system": "LOINC",
          "code": "8331-1",
          "display": "Oral temperature"
        }
      ],
      "type": "Observation",
      "direct_transition": "Acetaminophen"
    },
    "Acetaminophen": {
      "codes": [
        {
          "system": "RxNorm",
          "code": "198440",
          "display": "Acetaminophen 500 MG Oral Tablet"
        }
      ],
      "type": "MedicationOrder",
      "direct_transition": "Suspected COVID",
      "remarks": [
        "For fever response, we want to use acetaminophen.",
        "WHO Now Officially Recommends to Avoid Taking Ibuprofen For COVID-19 Symptoms"
      ]
    },
    "Suspected COVID": {
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "840544004",
          "display": "Suspected COVID-19"
        }
      ],
      "type": "ConditionOnset",
      "direct_transition": "Apply Face Mask to Patient"
    },
    "Admission": {
      "type": "CallSubmodule",
      "submodule": "covid19/admission",
      "direct_transition": "Take Normal Temperature"
    },
    "Death": {
      "type": "Death",
      "direct_transition": "Terminal",
      "condition_onset": "Diagnosed COVID"
    },
    "Wait for Admission": {
      "type": "Delay",
      "direct_transition": "Admission",
      "range": {
        "low": 5,
        "high": 8,
        "unit": "days"
      }
    },
    "Discharge": {
      "type": "EncounterEnd",
      "direct_transition": "End Self Isolation At Home"
    },
    "Apply Face Mask to Patient": {
      "duration": {
        "low": 10.0,
        "high": 15.0,
        "unit": "minutes"
      },
      "reason": "Suspected COVID",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "261352009",
          "display": "Face mask (physical object)"
        }
      ],
      "type": "Procedure",
      "conditional_transition": [
        {
          "condition": {
            "condition_type": "Or",
            "conditions": [
              {
                "condition_type": "Attribute",
                "attribute": "covid19_risk",
                "operator": "==",
                "value": "high"
              },
              {
                "condition_type": "Age",
                "operator": "<=",
                "quantity": 18.0,
                "unit": "years"
              }
            ]
          },
          "transition": "Child or Immunocompromised"
        },
        {
          "transition": "Co-Infection Rate"
        }
      ],
      "remarks": [
        "This should really be a \u0027Device\u0027 state."
      ]
    },
    "Child or Immunocompromised": {
      "type": "Simple",
      "distributed_transition": [
        {
          "distribution": 0.92,
          "transition": "Respiratory Virus Panel Not Detected"
        },
        {
          "distribution": 0.04,
          "transition": "Respiratory Virus Panel Influenza A Detected"
        },
        {
          "distribution": 0.04,
          "transition": "Respiratory Virus Panel Influenza B Detected"
        }
      ]
    },
    "Co-Infection Rate": {
      "type": "Simple",
      "distributed_transition": [
        {
          "distribution": 0.92,
          "transition": "Influenza Not Detected"
        },
        {
          "distribution": 0.04,
          "transition": "Influenza A Detected"
        },
        {
          "distribution": 0.04,
          "transition": "Influenza B Detected"
        }
      ],
      "remarks": [
        "Approximately 8% co-infection rate with influenza."
      ]
    },
    "Respiratory Virus Panel Not Detected": {
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92142-9",
              "display": "Influenza virus A RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92141-1",
              "display": "Influenza virus B RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92131-2",
              "display": "Respiratory syncytial virus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92140-3",
              "display": "Parainfluenza virus 1 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92139-5",
              "display": "Parainfluenza virus 2 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92138-7",
              "display": "Parainfluenza virus 3 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92130-4",
              "display": "Rhinovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92134-6",
              "display": "Human metapneumovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "94040-3",
              "display": "Adenovirus A+B+C+D+E DNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        }
      ],
      "codes": [
        {
          "system": "LOINC",
          "code": "92143-7",
          "display": "Respiratory pathogens DNA and RNA panel - Respiratory specimen by NAA with probe detection"
        }
      ],
      "type": "DiagnosticReport",
      "direct_transition": "Severity Assessment"
    },
    "Respiratory Virus Panel Influenza A Detected": {
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "10828004",
            "display": "Positive (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92142-9",
              "display": "Influenza virus A RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92141-1",
              "display": "Influenza virus B RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92131-2",
              "display": "Respiratory syncytial virus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92140-3",
              "display": "Parainfluenza virus 1 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92139-5",
              "display": "Parainfluenza virus 2 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92138-7",
              "display": "Parainfluenza virus 3 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92130-4",
              "display": "Rhinovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92134-6",
              "display": "Human metapneumovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "94040-3",
              "display": "Adenovirus A+B+C+D+E DNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        }
      ],
      "codes": [
        {
          "system": "LOINC",
          "code": "92143-7",
          "display": "Respiratory pathogens DNA and RNA panel - Respiratory specimen by NAA with probe detection"
        }
      ],
      "type": "DiagnosticReport",
      "direct_transition": "Severity Assessment"
    },
    "Respiratory Virus Panel Influenza B Detected": {
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92142-9",
              "display": "Influenza virus A RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "10828004",
            "display": "Positive (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92141-1",
              "display": "Influenza virus B RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92131-2",
              "display": "Respiratory syncytial virus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92140-3",
              "display": "Parainfluenza virus 1 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92139-5",
              "display": "Parainfluenza virus 2 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92138-7",
              "display": "Parainfluenza virus 3 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92130-4",
              "display": "Rhinovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "92134-6",
              "display": "Human metapneumovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260385009",
            "display": "Negative (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "94040-3",
              "display": "Adenovirus A+B+C+D+E DNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "type": "Observation"
        }
      ],
      "codes": [
        {
          "system": "LOINC",
          "code": "92143-7",
          "display": "Respiratory pathogens DNA and RNA panel - Respiratory specimen by NAA with probe detection"
        }
      ],
      "type": "DiagnosticReport",
      "direct_transition": "Severity Assessment"
    },
    "Influenza Not Detected": {
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260415000",
            "display": "Not detected (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "80382-5",
              "display": "Influenza virus A Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260415000",
            "display": "Not detected (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "80383-3",
              "display": "Influenza virus B Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "type": "Observation"
        }
      ],
      "codes": [
        {
          "system": "LOINC",
          "code": "80381-7",
          "display": "Influenza virus A and B Ag panel - Nasopharynx by Rapid immunoassay"
        }
      ],
      "type": "DiagnosticReport",
      "direct_transition": "Severity Assessment"
    },
    "Influenza A Detected": {
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260373001",
            "display": "Detected (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "80382-5",
              "display": "Influenza virus A Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260415000",
            "display": "Not detected (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "80383-3",
              "display": "Influenza virus B Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "type": "Observation"
        }
      ],
      "codes": [
        {
          "system": "LOINC",
          "code": "80381-7",
          "display": "Influenza virus A and B Ag panel - Nasopharynx by Rapid immunoassay"
        }
      ],
      "type": "DiagnosticReport",
      "direct_transition": "Severity Assessment"
    },
    "Influenza B Detected": {
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260415000",
            "display": "Not detected (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "80382-5",
              "display": "Influenza virus A Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "type": "Observation"
        },
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260373001",
            "display": "Detected (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "80383-3",
              "display": "Influenza virus B Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "type": "Observation"
        }
      ],
      "codes": [
        {
          "system": "LOINC",
          "code": "80381-7",
          "display": "Influenza virus A and B Ag panel - Nasopharynx by Rapid immunoassay"
        }
      ],
      "type": "DiagnosticReport",
      "direct_transition": "Severity Assessment"
    },
    "Severity Assessment": {
      "type": "Simple",
      "conditional_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_severity",
            "operator": "==",
            "value": "severe"
          },
          "transition": "Isolation in Negative Pressure"
        },
        {
          "transition": "Isolation"
        }
      ],
      "remarks": [
        "Does patient need negative pressure room?",
        "Stable patients go into regular room with mask, contact and droplet precautions.",
        "Risky patients with tracheostomy or will require procedures with aerosolation (high flow nasal canula, immediate intubation, or non-invasive positive pressure ventilation, or immediate nebulizer).",
        "Risky patients: if no negative pressure rooms available, then staff need to wear PPE (N95 or PAPR)"
      ]
    },
    "Isolation in Negative Pressure": {
      "activities": [
        {
          "system": "SNOMED-CT",
          "code": "444908001",
          "display": "Isolation nursing in negative pressure isolation environment (regime/therapy)"
        },
        {
          "system": "SNOMED-CT",
          "code": "409524006",
          "display": "Airborne precautions (procedure)"
        },
        {
          "system": "SNOMED-CT",
          "code": "409526008",
          "display": "Personal protective equipment (physical object)"
        }
      ],
      "assign_to_attribute": "covid19_careplan",
      "reason": "Suspected COVID",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "736376001",
          "display": "Infectious disease care plan (record artifact)"
        }
      ],
      "type": "CarePlanStart",
      "direct_transition": "Wait for Test"
    },
    "Isolation": {
      "activities": [
        {
          "system": "SNOMED-CT",
          "code": "409524006",
          "display": "Airborne precautions (procedure)"
        },
        {
          "system": "SNOMED-CT",
          "code": "409526008",
          "display": "Personal protective equipment (physical object)"
        }
      ],
      "assign_to_attribute": "covid19_careplan",
      "reason": "Suspected COVID",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "736376001",
          "display": "Infectious disease care plan (record artifact)"
        }
      ],
      "type": "CarePlanStart",
      "direct_transition": "Wait for Test"
    },
<<<<<<< HEAD
    "Wait for Test": {
=======
    "End Self Isolation At Home": {
      "type": "CarePlanEnd",
      "direct_transition": "Terminal",
      "referenced_by_attribute": "covid19_careplan"
    },
    "Self Isolation Delay": {
      "type": "Delay",
      "direct_transition": "End Symptoms",
>>>>>>> refs/remotes/origin/covid19
      "range": {
<<<<<<< HEAD
        "low": 30.0,
        "high": 90.0,
        "unit": "minutes"
      },
      "type": "Delay",
      "direct_transition": "End Plan"
    },
    "End Plan": {
      "referenced_by_attribute": "covid19_careplan",
      "type": "CarePlanEnd",
      "direct_transition": "End Exposure"
    },
    "End Exposure": {
      "condition_onset": "Suspected COVID",
      "type": "ConditionEnd",
      "conditional_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_severity",
            "operator": "==",
            "value": "negative"
          },
          "transition": "Administer COVID-19 Test Negative"
        },
        {
          "transition": "Administer COVID-19 Test Positive"
        }
      ]
    },
    "Administer COVID-19 Test Negative": {
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260415000",
            "display": "Not detected (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "94531-1",
              "display": "SARS-CoV-2 RNA Pnl Resp NAA+probe"
            }
          ],
          "type": "Observation"
        }
      ],
      "codes": [
        {
          "system": "LOINC",
          "code": "94531-1",
          "display": "SARS-CoV-2 RNA Pnl Resp NAA+probe"
        }
      ],
      "type": "DiagnosticReport",
      "direct_transition": "End Encounter Testing Negative"
    },
    "Administer COVID-19 Test Positive": {
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "value_code": {
            "system": "SNOMED-CT",
            "code": "260373001",
            "display": "Detected (qualifier value)"
          },
          "codes": [
            {
              "system": "LOINC",
              "code": "94531-1",
              "display": "SARS-CoV-2 RNA Pnl Resp NAA+probe"
            }
          ],
          "type": "Observation"
        }
      ],
      "codes": [
        {
          "system": "LOINC",
          "code": "94531-1",
          "display": "SARS-CoV-2 RNA Pnl Resp NAA+probe"
        }
      ],
      "type": "DiagnosticReport",
      "direct_transition": "Diagnosed COVID"
    },
    "End Encounter Testing Negative": {
      "type": "EncounterEnd",
      "direct_transition": "Terminal"
    },
    "Diagnosed COVID": {
      "assign_to_attribute": "covid19",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "840539006",
          "display": "COVID-19"
        }
      ],
      "type": "ConditionOnset",
      "conditional_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_severity",
            "operator": "==",
            "value": "severe"
          },
          "transition": "End Encounter and Admit Immediately"
        },
        {
          "transition": "Self Isolation At Home"
        }
      ]
    },
    "Terminal": {
      "type": "Terminal"
=======
        "low": 14,
        "high": 37,
        "unit": "days"
      },
      "remarks": [
        "Median duration of viral shedding was 20 days, and longest observed duration of viral shedding was 37 days.",
        "https://doi.org/10.1016/S0140-6736(20)30566-3"
      ]
    },
    "Wait for Death": {
      "type": "Delay",
      "direct_transition": "Death",
      "range": {
        "low": 5,
        "high": 8,
        "unit": "days"
      }
>>>>>>> refs/remotes/origin/covid19
    },
    "End Encounter and Admit Immediately": {
      "type": "EncounterEnd",
      "direct_transition": "Admission"
    },
    "Self Isolation At Home": {
      "activities": [
        {
          "system": "SNOMED-CT",
          "code": "409524006",
          "display": "Airborne precautions (procedure)"
        },
        {
          "system": "SNOMED-CT",
          "code": "361235007",
          "display": "Isolation of infected patient (procedure)"
        }
      ],
      "assign_to_attribute": "covid19_careplan",
      "reason": "Diagnosed COVID",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "736376001",
          "display": "Infectious disease care plan (record artifact)"
        }
      ],
      "type": "CarePlanStart",
      "direct_transition": "End Encounter and Discharge Home"
    },
    "Admission": {
      "submodule": "Covid19_pub/admission",
      "type": "CallSubmodule",
      "direct_transition": "Terminal"
    },
    "End Encounter and Discharge Home": {
      "type": "EncounterEnd",
      "complex_transition": [
        {
          "condition": {
            "condition_type": "Attribute",
            "attribute": "covid19_death",
            "operator": "==",
            "value": true
          },
          "distributions": [
            {
              "distribution": 0.9,
              "transition": "Wait for Admission"
            },
            {
              "distribution": 0.1,
              "transition": "Wait for Death"
            }
          ]
        },
        {
          "transition": "Self Isolation Delay"
        }
      ],
      "remarks": [
        "Transition probabilities need adjustment."
      ]
    },
<<<<<<< HEAD
    "Self Isolation Delay": {
      "range": {
        "low": 14.0,
        "high": 37.0,
        "unit": "days"
      },
=======
    "Retest Negative": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "94531-1",
          "display": "SARS-CoV-2 RNA Pnl Resp NAA+probe"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "94531-1",
              "display": "SARS-CoV-2 RNA Pnl Resp NAA+probe"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260415000,
            "display": "Not detected (qualifier value)"
          }
        }
      ],
      "direct_transition": "Wait for retest"
    },
    "Second Negative Test": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "94531-1",
          "display": "SARS-CoV-2 RNA Pnl Resp NAA+probe"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "94531-1",
              "display": "SARS-CoV-2 RNA Pnl Resp NAA+probe"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260415000,
            "display": "Not detected (qualifier value)"
          }
        }
      ],
      "direct_transition": "Discharge"
    },
    "Wait for retest": {
>>>>>>> refs/remotes/origin/covid19
      "type": "Delay",
<<<<<<< HEAD
      "direct_transition": "End Self Isolation At Home",
=======
      "direct_transition": "Second Normal Temperature",
      "range": {
        "low": 18,
        "high": 30,
        "unit": "hours"
      }
    },
    "Take Normal Temperature": {
      "type": "Observation",
      "category": "vital-signs",
      "unit": "Cel",
      "codes": [
        {
          "system": "LOINC",
          "code": "8310-5",
          "display": "Body temperature"
        },
        {
          "system": "LOINC",
          "code": "8331-1",
          "display": "Oral temperature"
        }
      ],
      "direct_transition": "Retest Negative",
      "range": {
        "low": 36.1,
        "high": 37.2
      }
    },
    "Second Normal Temperature": {
      "type": "Observation",
      "category": "vital-signs",
      "unit": "Cel",
      "codes": [
        {
          "system": "LOINC",
          "code": "8310-5",
          "display": "Body temperature"
        },
        {
          "system": "LOINC",
          "code": "8331-1",
          "display": "Oral temperature"
        }
      ],
      "range": {
        "low": 36.1,
        "high": 37.2
      },
      "direct_transition": "Second Negative Test"
    },
    "Determine Risk": {
      "submodule": "covid19/determine_risk",
      "type": "CallSubmodule",
      "direct_transition": "Encounter for Test",
>>>>>>> refs/remotes/origin/covid19
      "remarks": [
        "Median duration of viral shedding was 20 days, and longest observed duration of viral shedding was 37 days.",
        "https://doi.org/10.1016/S0140-6736(20)30566-3"
      ]
    },
    "End Self Isolation At Home": {
      "referenced_by_attribute": "covid19_careplan",
      "type": "CarePlanEnd",
<<<<<<< HEAD
      "direct_transition": "End Symptoms"
=======
      "direct_transition": "End Exposure",
      "referenced_by_attribute": "covid19_careplan"
    },
    "End Encounter Testing Negative": {
      "type": "EncounterEnd",
      "direct_transition": "Terminal"
    },
    "Influenza B Detected": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "80381-7",
          "display": "Influenza virus A and B Ag panel - Nasopharynx by Rapid immunoassay"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "80382-5",
              "display": "Influenza virus A Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260415000,
            "display": "Not detected (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "80383-3",
              "display": "Influenza virus B Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260373001,
            "display": "Detected (qualifier value)"
          }
        }
      ],
      "direct_transition": "Severity Assessment"
    },
    "Influenza A Detected": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "80381-7",
          "display": "Influenza virus A and B Ag panel - Nasopharynx by Rapid immunoassay"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "80382-5",
              "display": "Influenza virus A Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260373001,
            "display": "Detected (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "80383-3",
              "display": "Influenza virus B Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260415000,
            "display": "Not detected (qualifier value)"
          }
        }
      ],
      "direct_transition": "Severity Assessment"
    },
    "Influenza Not Detected": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "80381-7",
          "display": "Influenza virus A and B Ag panel - Nasopharynx by Rapid immunoassay"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "80382-5",
              "display": "Influenza virus A Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260415000,
            "display": "Not detected (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "80383-3",
              "display": "Influenza virus B Ag [Presence] in Nasopharynx by Rapid immunoassay"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260415000,
            "display": "Not detected (qualifier value)"
          }
        }
      ],
      "direct_transition": "Severity Assessment"
    },
    "Child or Immunocompromised": {
      "type": "Simple",
      "distributed_transition": [
        {
          "transition": "Respiratory Virus Panel Not Detected",
          "distribution": 0.92
        },
        {
          "transition": "Respiratory Virus Panel Influenza A Detected",
          "distribution": 0.04
        },
        {
          "transition": "Respiratory Virus Panel Influenza B Detected",
          "distribution": 0.04
        }
      ]
    },
    "Co-Infection Rate": {
      "type": "Simple",
      "remarks": [
        "Approximately 8% co-infection rate with influenza."
      ],
      "distributed_transition": [
        {
          "transition": "Influenza Not Detected",
          "distribution": 0.92
        },
        {
          "transition": "Influenza A Detected",
          "distribution": 0.04
        },
        {
          "transition": "Influenza B Detected",
          "distribution": 0.04
        }
      ]
    },
    "Respiratory Virus Panel Not Detected": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "92143-7",
          "display": "Respiratory pathogens DNA and RNA panel - Respiratory specimen by NAA with probe detection"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92142-9",
              "display": "Influenza virus A RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92141-1",
              "display": "Influenza virus B RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92131-2",
              "display": "Respiratory syncytial virus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92140-3",
              "display": "Parainfluenza virus 1 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92139-5",
              "display": "Parainfluenza virus 2 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92138-7",
              "display": "Parainfluenza virus 3 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92130-4",
              "display": "Rhinovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92134-6",
              "display": "Human metapneumovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "94040-3",
              "display": "Adenovirus A+B+C+D+E DNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        }
      ],
      "direct_transition": "Severity Assessment"
    },
    "Respiratory Virus Panel Influenza A Detected": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "92143-7",
          "display": "Respiratory pathogens DNA and RNA panel - Respiratory specimen by NAA with probe detection"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92142-9",
              "display": "Influenza virus A RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 10828004,
            "display": "Positive (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92141-1",
              "display": "Influenza virus B RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92131-2",
              "display": "Respiratory syncytial virus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92140-3",
              "display": "Parainfluenza virus 1 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92139-5",
              "display": "Parainfluenza virus 2 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92138-7",
              "display": "Parainfluenza virus 3 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92130-4",
              "display": "Rhinovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92134-6",
              "display": "Human metapneumovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "94040-3",
              "display": "Adenovirus A+B+C+D+E DNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        }
      ],
      "direct_transition": "Severity Assessment"
    },
    "Respiratory Virus Panel Influenza B Detected": {
      "type": "DiagnosticReport",
      "codes": [
        {
          "system": "LOINC",
          "code": "92143-7",
          "display": "Respiratory pathogens DNA and RNA panel - Respiratory specimen by NAA with probe detection"
        }
      ],
      "observations": [
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92142-9",
              "display": "Influenza virus A RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92141-1",
              "display": "Influenza virus B RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 10828004,
            "display": "Positive (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92131-2",
              "display": "Respiratory syncytial virus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92140-3",
              "display": "Parainfluenza virus 1 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92139-5",
              "display": "Parainfluenza virus 2 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92138-7",
              "display": "Parainfluenza virus 3 RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92130-4",
              "display": "Rhinovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "92134-6",
              "display": "Human metapneumovirus RNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        },
        {
          "category": "laboratory",
          "unit": "",
          "codes": [
            {
              "system": "LOINC",
              "code": "94040-3",
              "display": "Adenovirus A+B+C+D+E DNA [Presence] in Respiratory specimen by NAA with probe detection"
            }
          ],
          "value_code": {
            "system": "SNOMED-CT",
            "code": 260385009,
            "display": "Negative (qualifier value)"
          }
        }
      ],
      "direct_transition": "Severity Assessment"
    },
    "Catalog Symptoms": {
      "type": "CallSubmodule",
      "submodule": "covid19/symptoms",
      "direct_transition": "Take Temperature"
>>>>>>> refs/remotes/origin/covid19
    },
    "End Symptoms": {
      "submodule": "covid19/end_symptoms",
<<<<<<< HEAD
      "type": "CallSubmodule",
      "direct_transition": "End COVID19"
    },
    "End COVID19": {
      "condition_onset": "Diagnosed COVID",
      "type": "ConditionEnd",
      "direct_transition": "Terminal"
    },
    "Wait for Admission": {
      "range": {
        "low": 5.0,
        "high": 8.0,
        "unit": "days"
      },
      "type": "Delay",
      "direct_transition": "Admission"
    },
    "Wait for Death": {
      "range": {
        "low": 5.0,
        "high": 8.0,
        "unit": "days"
      },
      "type": "Delay",
      "direct_transition": "Death"
    },
    "Death": {
      "condition_onset": "Diagnosed COVID",
      "type": "Death",
      "direct_transition": "Terminal"
=======
      "direct_transition": "End Outcomes"
    },
    "End Outcomes": {
      "type": "CallSubmodule",
      "submodule": "covid19/end_outcomes",
      "direct_transition": "End Self Isolation At Home"
>>>>>>> refs/remotes/origin/covid19
    }
  }
}